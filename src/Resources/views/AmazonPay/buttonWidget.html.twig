<script type='text/javascript'>
        window.onAmazonLoginReady = function () {
            try {
                amazon.Login.setClientId("{{ amazon.clientId }}");
                amazon.Login.setUseCookie(true);
            } catch (err) {
                alert(err);
            }
        };

        window.onAmazonPaymentsReady = function () {
            var authRequest;
            OffAmazonPayments.Button("AmazonPayButton", "{{ amazon.merchantId }}", {
                type: "PwA",
                color: "Gold",
                size: "large",
                language: "de-DE",
                authorization: function() {
                    loginOptions = {
                        scope: "profile postal_code payments:widget payments:shipping_address",
                        popup: false
                    };
                    authRequest = amazon.Login.authorize(loginOptions, "{{ url('tierperso_sylius_amazon_pay_plugin_get_order_detail') }}");
                },
                onError: function(error) {
                }
            });
        };
</script>
<script async="async" type='text/javascript' src='https://static-eu.payments-amazon.com/OffAmazonPayments{{ amazon.amazonApiRegion }}{{ amazon.amazonApiEnvironment }}/lpa/js/Widgets.js'></script>
